<!DOCTYPE html><html lang="zh-CN"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>部署合约 · Substrate Developer Hub</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;Here we will show you how you can deploy and interact with a smart contract on Substrate.&lt;/p&gt;
"/><meta name="docsearch:language" content="zh-CN"/><meta property="og:title" content="部署合约 · Substrate Developer Hub"/><meta property="og:type" content="website"/><meta property="og:url" content="https://substrate-developer-hub.github.io//"/><meta property="og:description" content="&lt;p&gt;Here we will show you how you can deploy and interact with a smart contract on Substrate.&lt;/p&gt;
"/><meta property="og:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/zh-CN"><img class="logo" src="/img/Substrate-logo.svg" alt="Substrate Developer Hub"/><h2 class="headerTitleWithLogo">Substrate Developer Hub</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/zh-CN/getting-started/" target="_self">文档</a></li><li class=""><a href="/rustdocs/v1.0/" target="_self">参考文档</a></li><li class=""><a href="/zh-CN/tutorials" target="_self">指南</a></li><li class=""><a href="/zh-CN/community" target="_self">社区</a></li><li class=""><a href="https://github.com/paritytech/substrate" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>中文</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/contracts/deploying-a-contract">English</a></li><li><a href="https://crowdin.com/project/substrate-developer-hub" target="_blank" rel="noreferrer noopener">参与翻译</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Substrate 合约</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">开始吧<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/getting-started/">开始吧</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/getting-started/installing-substrate">安装 Substrate</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/getting-started/using-the-substrate-scripts">使用 Substrate 节点和模块构建脚本</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Substrate 基础<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/overview/">介绍</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/overview/extrinsics">外部参数</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/overview/transaction-lifecycle">交易生命周期</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/overview/low-level-data-format">底层数据格式</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/overview/off-chain-workers">Substrate 链下计算</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/overview/session-keys">会话秘钥</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/overview/ss58-address-format">SS58 地址格式</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/overview/glossary">术语</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Runtime<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/runtime/architecture-of-a-runtime">Runtime的架构</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/runtime/substrate-runtime-module-library">Substrate Runtime 模块库</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/runtime/initializing-storage">Initializing Runtime Storage</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Runtime Macros</h4><ul><li class="navListItem"><a class="navItem" href="/docs/zh-CN/runtime/macros/construct_runtime">构建一个Runtime</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/runtime/macros/decl_module">定义模块</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Runtime Types</h4><ul><li class="navListItem"><a class="navItem" href="/docs/zh-CN/runtime/types/call-enum">Call 枚举类型</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/runtime/types/event-enum">Event 枚举类型</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/runtime/types/genesisconfig-struct">GenesisConfig 结构体</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Substrate 合约<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/contracts/">Substrate 智能合约介绍</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/contracts/installing-ink">安装 ink!</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/contracts/cargo-contract">Cargo Contract: ink! 的命令行工具</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/contracts/testing-your-contract">测试合约代码</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/zh-CN/contracts/deploying-a-contract">部署合约</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/contracts/env-types">Smart Contract Runtime Environment Types</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/contracts/faq">常见问题</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">常用工具<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/ecosystem/subkey">`subkey` 工具</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">贡献<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/contribute/help-translate">参与翻译</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/substrate-developer-hub/zh-CN" target="_blank" rel="noreferrer noopener">Translate</a><h1 class="postHeaderTitle">部署合约</h1></header><article><div><span><p>Here we will show you how you can deploy and interact with a smart contract on Substrate.</p>
<h2><a class="anchor" aria-hidden="true" id="starting-your-node"></a><a href="#starting-your-node" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Starting Your Node</h2>
<p>After successfully <a href="/docs/zh-CN/getting-started/installing-substrate">installing Substrate</a>, you can start a local development chain by running:</p>
<pre><code class="hljs css language-bash">substrate --dev
</code></pre>
<p><img src="/img/start-substrate-node.png" alt="An image of the terminal starting a Substrate node"></p>
<blockquote>
<p><strong>Note:</strong> If you have run this command in the past, you probably want to purge your chain so that you run through this tutorial with a clean slate. You can do this easily with <code>substrate purge-chain --dev</code>.</p>
</blockquote>
<p>You should start to see blocks being produced by your node in your terminal.</p>
<p>You can interact with your node using the Polkadot UI:</p>
<p><a href="https://polkadot.js.org/apps/">https://polkadot.js.org/apps/</a></p>
<blockquote>
<p><strong>Note:</strong> You will need to use Google Chrome to have this site interact with your local node. The Polkadot UI is hosted on a secure server, and your local node is not, which may cause compatibility issues on Firefox or Linux based Chromium. The other option is to <a href="https://github.com/polkadot-js/apps">clone and run the Polkadot UI locally</a>.</p>
</blockquote>
<p>If you go into the <strong>Explorer</strong> tab of the UI, you should also see blocks being produced!</p>
<p><img src="/img/start-substrate-ui.png" alt="An image of the Substrate UI"></p>
<h2><a class="anchor" aria-hidden="true" id="creating-the-flipper-hello-world-contract"></a><a href="#creating-the-flipper-hello-world-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating the Flipper &quot;Hello World&quot; Contract</h2>
<p>This guide will not teach you about developing smart contracts on Substrate. For that, you can look at our <a href="/tutorials/">tutorials for smart contract development</a>.</p>
<p>Instead, we will use the Flipper contract, which is the default template generated by the ink! CLI. Make sure you are in your working directory, and then run:</p>
<pre><code class="hljs css language-bash">cargo contract new flipper
<span class="token function">cd</span> flipper/
./build.sh
</code></pre>
<p>You can learn more about <a href="/docs/zh-CN/contracts/cargo-contract"><code>cargo contract</code> here</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="deploying-your-contract"></a><a href="#deploying-your-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deploying Your Contract</h2>
<p>Now that we have generated a Wasm binary from our source code, we want to deploy this contract onto our Substrate blockchain.</p>
<p>Smart contract deployment on Substrate is a little different than on traditional smart contract blockchains like Ethereum.</p>
<p>Whereas a completely new blob of smart contract source code is deployed each time you push a contract to Ethereum, Substrate opts to optimize this behavior. For example, the standard ERC20 token has been deployed to Ethereum thousands of times, sometimes only with changes to the initial configuration (through the Solidity <code>constructor</code> function). Each of these instances take up space on Ethereum equivalent to the contract source code size, even though no code was actually changed.</p>
<p>In Substrate, the contract deployment process is split into two halves:</p>
<ol>
<li>Putting your code on the blockchain</li>
<li>Creating an instance of your contract</li>
</ol>
<p>With this pattern, contract code like the ERC20 standard can be put on the blockchain a single time, but instantiated any number of times. No need to continually upload the same source code over and waste space on the blockchain.</p>
<h3><a class="anchor" aria-hidden="true" id="putting-your-code-on-the-blockchain"></a><a href="#putting-your-code-on-the-blockchain" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Putting Your Code on the Blockchain</h3>
<p>With your Substrate development node running, you can go back to the <a href="https://polkadot.js.org/apps/">Polkadot UI</a> where you will be able to interact with your blockchain.</p>
<p>Open the specially designed <strong>Contracts</strong> section of the UI.</p>
<p>In the <strong>Code</strong> section, select <em>upload WASM</em>.</p>
<p><img src="/img/flipper-code-page.png" alt="Contracts code page for deploying Flipper"></p>
<p>Choose a <em>deployment account</em> with some account balance like Alice. In <em>compiled contract WASM</em>, select the <code>flipper-pruned.wasm</code> file we generated. For the <em>contract ABI</em>, select the JSON file generated for your contract. Finally, set the <em>maximum gas allowed</em> to <code>500,000</code> units.</p>
<p><img src="/img/flipper-upload-page.png" alt="Contracts upload page for deploying Flipper"></p>
<p>After you press <strong>Upload</strong> and a new block is formed, an extrinsic event is emitted with <code>contract.codeStored</code>. This means that you have successfully stored your Wasm contract on your Substrate blockchain!</p>
<h3><a class="anchor" aria-hidden="true" id="creating-an-instance-of-your-contract"></a><a href="#creating-an-instance-of-your-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating an Instance of Your Contract</h3>
<p>Like Ethereum, smart contracts exist as an extension of the account system on the blockchain. Thus creating an instance of this contract will create a new <code>AccountId</code> which will store any balance managed by the smart contract and allow us to interact with the contract.</p>
<p>You will notice the contract you uploaded is now available to you on the <strong>Code</strong> section:</p>
<p><img src="/img/flipper-code-uploaded-page.png" alt="An image of the Contracts Uploaded Contract Page"></p>
<p>To create an instance of your contract, press the <em>Deploy</em> button, which will bring you to the deployment page:</p>
<p><img src="/img/flipper-deploy-page.png" alt="An image of the Contracts Deploy Page"></p>
<p>To instantiate our contract we just need to give this contract account an <em>endowment</em> of <code>10,000</code> and again set the <em>maximum gas allowed</em> to <code>500,000</code> units.</p>
<blockquote>
<p><strong>Note:</strong> As mentioned earlier, contract creation involves creation of a new Account. As such, you must be sure to give the contract account at least the existential deposit defined by your blockchain. This is why we set the <code>endowment</code> to <code>10,000</code>.</p>
</blockquote>
<p>When you press <strong>Deploy</strong>, you should see a flurry of events appear including the creation of a new account (<code>balances.NewAccount</code>) and the instantiation of the contract (<code>contract.Instantiated</code>):</p>
<p><img src="/img/flipper-instance-events.png" alt="An image of events from instantiation of Flipper"></p>
<h2><a class="anchor" aria-hidden="true" id="calling-your-contract"></a><a href="#calling-your-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Calling Your Contract</h2>
<p>Now that your contract has been fully deployed, we can start to interact with it! Flipper only has two functions, so we will show you what it's like to play with both of them.</p>
<h3><a class="anchor" aria-hidden="true" id="get"></a><a href="#get" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>get()</code></h3>
<p>If you take a look back at our contract's <code>deploy()</code> function, we set the initial value of the Flipper contract to <code>false</code>. Let's check that this is the case.</p>
<p>In the <strong>Contracts</strong> section, press <em>execute</em>.</p>
<p><img src="/img/flipper-instance-page.png" alt="An image of instance page"></p>
<p>Set the <em>message to send</em> to <code>get(): bool</code>. Set the <em>maximum gas allowed</em> to <code>100,000</code>. You do not need to set a <em>value</em> here since we don't want to transfer any tokens to the contract.</p>
<p><img src="/img/flipper-call-page.png" alt="An image of the Contracts call page"></p>
<p>Contract calls cannot return a value to the outside world. So when you press <strong>Call</strong>, you will get a pretty unsatisfying <code>system.ExtrinsicSuccess</code> message. However, ink! provides a debugging tool to enable you to print messages to your node's terminal.</p>
<p>If we take a look, we can actually see our storage value:</p>
<p><img src="/img/flipper-println-false.png" alt="An image of println in the terminal for Flipper with false"></p>
<blockquote>
<p><strong>Note:</strong> <code>println</code> is only allowed on <code>--dev</code> chains for debugging purposes. If you try to deploy a contract with <code>println</code> on a non-dev chain, it will not succeed.</p>
</blockquote>
<p>While this is not a great long term solution, it works very well for debugging contracts, and is a placeholder for more mature solutions like contract events and dedicated view RPCs which are still under development.</p>
<h3><a class="anchor" aria-hidden="true" id="flip"></a><a href="#flip" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>flip()</code></h3>
<p>So let's make the value turn <code>true</code> now!</p>
<p>The alternative <em>message to send</em> we can make with the UI is <code>flip()</code>. Again, we will send a <em>value</em> of <code>1</code> and a <em>maximum gas allowed</em> of <code>100,000</code>.</p>
<p>If the extrinsic was successful, we should then be able to go back to the <code>get()</code> function and see our updated storage:</p>
<p><img src="/img/flipper-println-true.png" alt="An image of println in the terminal for Flipper with true"></p>
<p>Woohoo! You deployed a smart contract!</p>
<h2><a class="anchor" aria-hidden="true" id="next-steps"></a><a href="#next-steps" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Next Steps</h2>
<p>If you are interested to learn how to write ink! smart contracts, check out our <a href="/tutorials/">tutorials page</a>.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/zh-CN/contracts/testing-your-contract"><span class="arrow-prev">← </span><span>测试合约代码</span></a><a class="docs-next button" href="/docs/zh-CN/contracts/env-types"><span>Smart Contract Runtime Environment Types</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#starting-your-node">Starting Your Node</a></li><li><a href="#creating-the-flipper-hello-world-contract">Creating the Flipper &quot;Hello World&quot; Contract</a></li><li><a href="#deploying-your-contract">Deploying Your Contract</a><ul class="toc-headings"><li><a href="#putting-your-code-on-the-blockchain">Putting Your Code on the Blockchain</a></li><li><a href="#creating-an-instance-of-your-contract">Creating an Instance of Your Contract</a></li></ul></li><li><a href="#calling-your-contract">Calling Your Contract</a><ul class="toc-headings"><li><a href="#get"><code>get()</code></a></li><li><a href="#flip"><code>flip()</code></a></li></ul></li><li><a href="#next-steps">Next Steps</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/Substrate-logo.svg" alt="Substrate Developer Hub" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/zh-CN/getting-started">Getting Started</a><a href="/zh-CN/tutorials">Tutorials</a><a href="/rustdocs/v1.0/">Reference Docs</a></div><div><h5>Community</h5><a href="/zh-CN/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/substrate" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://riot.im/app/#/room/!HzySYSaIhtyWrwiwEV:matrix.org">Riot Chat</a><a href="https://twitter.com/ParityTech" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="https://www.parity.io/blog/">Blog</a><a href="https://github.com/paritytech/substrate">Substrate GitHub</a><a href="https://github.com/substrate-developer-hub/">Developer Hub GitHub</a><a class="github-button" href="https://github.com/substrate-developer-hub/substrate-developer-hub.github.io" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2019 Parity Technologies</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '5cd09916f4ba4c283b2d45ee7386fc34',
                indexName: 'substrate',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:zh-CN"]}
              });
            </script></body></html>